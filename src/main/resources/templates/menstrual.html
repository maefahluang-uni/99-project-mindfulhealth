<!DOCTYPE html>
<html lang="en">
    <title>Menstrual Tracking</title>
    <style>
          body {
            background-color: #9cc5e7;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
        }
        .container {
            background-color: rgb(255, 254, 235);
            padding: 90px;
            border-radius: 50px;
            box-shadow: 0 0 15px rgba(0, 0, 0, 0.1);
            max-width: 1000px;
            width: 1000%;
            box-sizing: border-box;
        }
        h1, h2 {
            color: #3b3e40;
        }
        .page {
            display: none;
            height: 50vh;
            overflow-y: auto;
        }
        #mainPage {
            display: block;
        }
        .main-buttons {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 20px;
        }
        .main-buttons button {
            width: 100%;
            padding: 20px;
            font-size: 18px;
            border-radius: 20px;
            background-color: #9cc5e7;
            color: #ffffff;
            cursor: pointer;
        }
        .main-buttons button:hover {
            border: 2px;
            background-color: #0a1e2b;
        }
        .date-display {
            margin-top: 20px;
            font-size: 20px;
            text-align: center;
            color: #3b3e40;
        }
        .date-display span {
            font-weight: bold;
            display: block;
        }
        .box-container {
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        .box {
            background-color: #ffffff;
            border-radius: 15px;
            box-shadow: 0 0 15px rgba(0, 0, 0, 0.1);
            padding: 20px;
            margin-top: 20px;
            box-sizing: border-box;
            width: 100%;
            max-width: 600px;
            position: relative;
            text-align: center; 
        }
        .box label {
            font-size: 18px;
            margin-bottom: 10px;
            display: block;
            color: #3b3e40;
        }
        .box input, .box select {
            width: calc(100% - 20px);
            padding: 10px;
            font-size: 16px;
            border: 1px solid #d3d3d3;
            border-radius: 10px;
            box-sizing: border-box;
            margin-bottom: 15px;
        }
        .date-table {
            width: 100%;
            text-align: center;
            margin-top: 20px;
            position: relative;
        }
        .date-table th, .date-table td {
            padding: 15px;
            border-radius: 10px;
            cursor: pointer;
            background-color: #9cc5e7;
            color: rgb(255, 254, 235);
        }
        .date-table td:hover {
            background-color: #9cc5e7;
        }
        .selected-date {
            background-color: #9cc5e7;
        }
        .record-button {
            width: 150%;
            padding: 10px;
            font-size: 16px;
            border-radius: 15px;
            cursor: pointer;
            background-color: #4caf50;
            border: 2px solid #000;
            color:rgb(255, 254, 235);
            margin-top: 20px;
        }
        .record-button:hover {
            background-color: #45a049;
        }
        .options {
            display: flex;
            flex-direction: column;
            position: absolute;
            bottom: 20px;
            right: 20px;
            border-radius: 15px;
        }
        .options button {
            width: 100%;
            padding: 10px;
            font-size: 16px;
            border-radius: 15px;
            cursor: pointer;
            margin-top: 10px;
            background-color: #9cc5e7;
            border: 2px solid #000;
            color: rgb(255, 254, 235);
        }
        .options button:hover {
            background-color: #9cc5e7;
        }
        .popup {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            justify-content: center;
            align-items: center;
        }
        .popup-content {
            background: rgb(255, 254, 235);
            padding: 20px;
            border-radius: 15px;
            box-shadow: 0 0 15px rgba(0, 0, 0, 0.1);
            text-align: center;
            position: relative;
        }
        .close-btn {
            position: absolute;
            top: 10px;
            right: 10px;
            padding: 10px;
            background-color: #9cc5e7;
            color: rgb(255, 254, 235);
            border: none;
            border-radius: 15px;
            cursor: pointer;
        }
        .close-btn:hover {
            background-color: #9cc5e7;
        }
        .popup-buttons {
            margin-top: 20px;
            display: flex;
            justify-content: space-around;
        }
        .popup-buttons button {
            width: 45%;
            padding: 15px;
            font-size: 16px;
            border-radius: 15px;
            cursor: pointer;
        }
        .popup-buttons button.send-btn {
            background-color: #4caf50;
            color: rgb(255, 254, 235);
        }
        .popup-buttons button.cancel-btn {
            background-color: #9cc5e7;
            color: rgb(255, 254, 235);
        }
        .save-button {
            width: 50%;
            padding: 10px;
            font-size: 16px;
            border-radius: 15px;
            cursor: pointer;
            background-color: #4caf50;
            border: 2px solid #000;
            color: rgb(255, 254, 235);
            margin-top: 5px;
        }
        .save-button:hover {
            background-color: #45a049;
        } .clear-button {
            width: 50%;
            padding: 10px;
            font-size: 16px;
            border-radius: 15px;
            cursor: pointer;
            background-color: #4caf50;
            border: 2px solid #000;
            color:rgb(255, 254, 235);
            margin-top: 5px;
        }
        .clear-button:hover {
            background-color: #45a049;
        }
        .checkbox-group {
        display: flex;
        flex-wrap: wrap;
    }

    .checkbox-group input {
        margin-right: 10px;
    }

        /* Left Sidebar */

        .sidebar button {
            display: block;
            width: 150%;
            padding: 10px;
            margin-bottom: 30px;
            text-align: left;
            text-decoration: none;
            color: #333;
            background-color: #ddd;
            border: 1px solid #bbb;
            border-radius: 10px;
            cursor: pointer;
        }

        .sidebar button:hover {
            background-color: #ccc;
        }
        .info-box {
            border: 1px solid #ccc;
            padding: 20px;
            margin-bottom: 20px;
            border-radius: 8px;
        }

  
    </style>
</head>
<body>

<!-- Left Sidebar -->
<div class="sidebar">
    <a href="/dashboard"><button><svg fill="#3b3e40" width="30px" height="30px" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"><path d="M287.984 114.16c31.376 0 88.094 15.008 180.094 105.616l45.616 44.912 44.928-45.632c63.872-64.896 131.84-105.2 177.376-105.2 61.408 0 109.809 21.008 157.009 68.096 44.464 44.368 68.992 103.36 68.992 166.112.032 62.784-24.448 121.824-69.408 166.672-3.664 3.712-196.992 212.304-358.96 387.104-7.632 7.248-16.352 8.32-20.991 8.32-4.576 0-13.2-1.024-20.8-8.096-39.472-43.905-325.552-362-358.815-395.232C88.497 462.416 64 403.376 64 340.608c.015-62.752 24.511-121.728 69.04-166.144 43.295-43.264 93.984-60.304 154.944-60.304zm-.002-64c-76.528 0-144 22.895-200.176 79.008-117.072 116.768-117.072 306.128 0 422.96 33.424 33.44 357.855 394.337 357.855 394.337 18.48 18.496 42.753 27.68 66.96 27.68 24.225 0 48.4-9.184 66.912-27.68 0 0 354.88-383.024 358.656-386.85 117.04-116.88 117.04-306.24 0-423.007-58.112-58-123.024-86.784-202.208-86.784-75.648 0-160 60.32-223.008 124.32C447.981 110.159 366.237 50.16 287.981 50.16z"></path></g></svg></button></a>
    <a href="/medications"><button> <svg height="30px" width="30px" version="1.1" id="_x32_" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 512 512" xml:space="preserve" fill="#3b3e40"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <style type="text/css"> .st0{fill:#3b3e40;} </style> <g> <path class="st0" d="M471.786,276.239L234.34,41.502l0.064,0.068C207.64,14.794,172.399,1.333,137.313,1.357 c-35.086-0.023-70.33,13.437-97.096,40.214C13.434,68.346-0.018,103.58,0,138.669c-0.018,35.09,13.434,70.331,40.218,97.1 l237.439,234.73l-0.064-0.068c26.772,26.776,62.006,40.228,97.092,40.214c35.09,0.014,70.323-13.438,97.095-40.207 c26.784-26.784,40.236-62.032,40.221-97.114C512.016,338.241,498.567,303.008,471.786,276.239z M79.604,178.202 c-22.745-22.74-22.745-60.226,0.287-83.254c11.151-11.155,25.982-17.292,41.763-17.292L79.604,178.202z M448.653,447.311 c-20.466,20.45-47.14,30.615-73.969,30.623c-26.826-0.008-53.504-10.173-73.973-30.631l-0.053-0.052l-0.007-0.016L191.244,339.079 c0.321-2.108,0.805-4.58,1.504-7.323c2.532-10.134,7.629-23.783,15.319-38.219c11.522-21.69,28.881-45.208,51.826-63.339 c22.838-18.017,50.855-30.896,85.582-32.846l103.137,101.958l0.049,0.038c20.45,20.473,30.615,47.144,30.638,73.973 C479.276,400.152,469.119,426.83,448.653,447.311z"></path> </g> </g></svg>            
    </button></a>
    <a href="/focus"><button> <svg fill="#3b3e40" width="30px" height="30px" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"><path d="M833.056 64.608h-64.465v215.408c0 104.384-56.656 183.359-178.097 245.199 126.064 63.808 179.104 142.159 179.104 259.071 0 76.128-.336 140-.592 175.12h64.065c17.68 0 32 14.288 32 31.968s-14.32 32-32 32H190.943c-17.68 0-32-14.32-32-32s14.32-31.968 32-31.968h65.935c-.24-35.12-.591-99.008-.591-175.12 0-116.912 52.288-195.248 178.145-259.056C313.2 463.39 257.295 384.415 257.295 280.031V64.607h-66.352c-17.68 0-32-14.304-32-32 0-17.664 14.32-31.984 32-31.984h642.128c17.68 0 32 14.32 32 31.984-.016 17.696-14.32 32-32.016 32zm-512.785 719.68c0 76.288.353 140.224.593 175.12H705.04c.223-34.912.592-98.848.592-175.12 0-89.008-33.12-158.032-193.185-224.4-160.016 66.368-192.176 135.393-192.176 224.4zm384.352-719.68H321.264v215.408c0 61.376 20.64 140.416 191.168 210.528 170.56-70.112 192.191-149.152 192.191-210.528V64.608z"></path></g></svg>
    </button></a>
    <a href="/activity"><button><svg fill="#3b3e40" width="30px" height="30px" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"><path d="M508.416 1023.28c-241.248 0-412.369-167.28-412.369-397.777 0-122.368 73.376-254.192 76.496-259.712 6.368-11.343 18.88-17.504 31.936-16.063a32.052 32.052 0 0 1 26.88 23.567c.192.752 19.968 74.752 46.064 115.84 17.536 27.649 35.312 47.185 55.312 60.753-13.536-58.656-23.904-146.912-7.024-237.472C372.047 63.84 567.695 4.368 576.08 1.968c10.784-3.088 22.225-.32 30.433 7.151 8.192 7.504 11.936 18.752 9.808 29.665-.32 1.744-32.624 175.776 35.936 324.064 6.223 13.471 14.912 29.12 24.256 44.784 2.656-21.504 6.784-44.368 13.12-66.56 25.152-87.969 90.192-118 92.944-119.217 10.848-4.944 23.504-3.312 32.88 4.032a32.061 32.061 0 0 1 11.68 31.007c-.336 2.16-9.409 62.033 41.536 146.944 46 76.672 59.28 126.368 59.28 221.681 0 230.48-176.432 397.761-419.536 397.761zm-312.721-555.6c-17.568 44.304-35.665 103.246-35.665 157.806 0 193.408 144.192 333.776 348.368 333.776 206 0 355.536-140.368 355.536-333.776 0-83.536-10.32-122.32-50.16-188.752-26.624-44.368-39.777-84.256-46.065-116-6.336 10.256-12.223 22.784-16.527 37.872-19.504 68.193-14.592 147.937-14.527 148.753.944 14.273-7.744 27.473-21.248 32.257s-28.529.064-36.817-11.663c-2.4-3.408-59.312-83.968-84.4-138.24-52.096-112.592-51.216-234.336-45.904-304.464-52.72 30.72-133.664 99.344-159.664 238.912-25.312 135.808 23.872 271.6 24.4 272.943 4.256 11.088 2 23.664-5.808 32.592-7.84 8.88-19.904 12.815-31.536 10.03-3.967-.975-94.032-24.399-152.336-116.286-10.416-16.464-19.76-36.384-27.647-55.76z"></path></g></svg></button></a>
    <a href="/menstrual"><button><svg fill="#3b3e40" width="30px" height="30px" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"><path d="M960 95.888l-256.224.001V32.113c0-17.68-14.32-32-32-32s-32 14.32-32 32v63.76h-256v-63.76c0-17.68-14.32-32-32-32s-32 14.32-32 32v63.76H64c-35.344 0-64 28.656-64 64v800c0 35.343 28.656 64 64 64h896c35.344 0 64-28.657 64-64v-800c0-35.329-28.656-63.985-64-63.985zm0 863.985H64v-800h255.776v32.24c0 17.679 14.32 32 32 32s32-14.321 32-32v-32.224h256v32.24c0 17.68 14.32 32 32 32s32-14.32 32-32v-32.24H960v799.984zM736 511.888h64c17.664 0 32-14.336 32-32v-64c0-17.664-14.336-32-32-32h-64c-17.664 0-32 14.336-32 32v64c0 17.664 14.336 32 32 32zm0 255.984h64c17.664 0 32-14.32 32-32v-64c0-17.664-14.336-32-32-32h-64c-17.664 0-32 14.336-32 32v64c0 17.696 14.336 32 32 32zm-192-128h-64c-17.664 0-32 14.336-32 32v64c0 17.68 14.336 32 32 32h64c17.664 0 32-14.32 32-32v-64c0-17.648-14.336-32-32-32zm0-255.984h-64c-17.664 0-32 14.336-32 32v64c0 17.664 14.336 32 32 32h64c17.664 0 32-14.336 32-32v-64c0-17.68-14.336-32-32-32zm-256 0h-64c-17.664 0-32 14.336-32 32v64c0 17.664 14.336 32 32 32h64c17.664 0 32-14.336 32-32v-64c0-17.68-14.336-32-32-32zm0 255.984h-64c-17.664 0-32 14.336-32 32v64c0 17.68 14.336 32 32 32h64c17.664 0 32-14.32 32-32v-64c0-17.648-14.336-32-32-32z"></path></g></svg></button></a>

</div>

    <div class="container">
        <h1>Menstrual Tracking</h1>

        <!-- Main Page -->
        <div class="page" id="mainPage">
            <div class="date-display" id="dateDisplay"></div>
            <div class="main-buttons">
                <button onclick="goToPage('page1')">Date calculate</button>
                <button onclick="goToPage('page2')">End Date</button>
                <button onclick="goToPage('page3')">Symptoms</button>
                <button onclick="goToPage('page4')">Menstrual Flow</button>
                <button onclick="goToPage('page5')">My menstrual tracking</button>
            </div>
        </div>

        <!-- Page 1 -->
        <div class="page" id="page1">
            <div class="box-container">
                <div class="box">
                    <h1>Menstrual Duration Calculator</h1>

                    <label for="startDate">First Day of Period:</label>
                    <input type="date" id="startDate">
                
                    <label for="endDate">Last Day of Period:</label>
                    <input type="date" id="endDate">
                
                    <button onclick="calculateDuration()">Save</button>
                
                    <h2>Result:</h2>
                    <p id="result"></p>
                </div>
                <div class="options">
                    <button onclick="goToPage('mainPage')">Back</button>
                    
                </div>
            </div>
        </div>

        <!-- Page 2 -->
        <div class="page" id="page2">
            <div class="box-container">
                <div class="box">
                    <label for="datePicker2">End Date:</label>
                    <input type="date" id="datePicker2" onchange="highlightSelectedDate(this, 'periodEndDateTable')">
                </div>
                <div class="record-button-container">
                    <button class="record-button" onclick="recordDate('End')">Record</button>
                </div>
                <div class="options">
                    <button onclick="goToPage('mainPage')">Back</button>
                </div>
            </div>
        </div>

        <!-- Page 3 -->
        <div class="page" id="page3">
            <div class="box-container">
                <div class="box">
                    <label for="symptoms">Choose Symptoms:</label>
                    <select id="symptoms">
                        <option value="cramps">Cramps</option>
                        <option value="headache">Headache</option>
                        <option value="fatigue">Fatigue</option>
                        <!-- Add more symptoms as needed -->
                    </select>
                </div>
                <div class="options">
                    <button onclick="goToPage('mainPage')">Back</button>
                </div>
                <button class="save-button" onclick="saveSymptom('End')">Save</button>
            </div>
        </div>

        <!-- Page 4 -->
        <div class="page" id="page4">
            <div class="popup-buttons">
                <button class="send-btn" onclick="periodOnTime()">On Time</button>
                <button class="cancel-btn" onclick="showPopup()">Not On Time</button>
            </div>
            <div class="options">
                <button onclick="goToPage('mainPage')">Back</button>
            </div>
        </div>

        <!-- Popup for "Not On Time" -->
        <div class="popup" id="popup">
            <div class="popup-content">
                <h2>Not On Time</h2>
                <label for="note">Write a note:</label>
                <textarea id="note"></textarea>
                <div class="popup-buttons">
                    <button class="send-btn" onclick="sendNote()">Send</button>
                    <button class="cancel-btn" onclick="closePopup()">Cancel</button>
                </div>
            </div>
        </div>

        <!-- Page 5 - Results -->
        <div class="page" id="page5">
            <div class="box-container">
                <div class="box">
                    <h2>Results</h2>
                    <div class="date-display" id="resultDateDisplay"></div>
                    <div class="symptom-display" id="resultSymptomDisplay"></div>
                    <div class="note-display" id="resultNoteDisplay"></div>
                    <button class="clear-button" onclick="clearResults()">Clear</button>
                </div>
                <div class="options">
                    <button onclick="goToPage('mainPage')">Back</button>
                </div>
            </div>
        </div>
    </div>
</body>
</html>


    <script>
let currentPage = 'mainPage';
    let resultSent = false; // Flag to track whether result has been sent

    function goToPage(page) {
        document.getElementById(currentPage).style.display = 'none';
        document.getElementById(page).style.display = 'block';
        currentPage = page;
    }

    function calculateDuration() {
            // Get the values of the input fields
            var startDate = new Date(document.getElementById('startDate').value);
            var endDate = new Date(document.getElementById('endDate').value);

            // Check if both dates are valid
            if (isNaN(startDate) || isNaN(endDate)) {
                alert('Please select valid dates.');
                return;
            }

            // Calculate the duration in days
            var durationInMilliseconds = endDate - startDate;
            var durationInDays = durationInMilliseconds / (1000 * 60 * 60 * 24);

            // Display the result
            document.getElementById('result').innerText = 'Duration: ' + durationInDays + ' days';
        }

    function showPopup() {
        document.getElementById('popup').style.display = 'flex';
    }

    function closePopup() {
        document.getElementById('popup').style.display = 'none';
    }

    function sendNote() {
        alert('Note sent!');
        closePopup();
        updateResults(); // Update results when note is saved
    }

    function periodOnTime() {
        alert('Period is on time!');
        updateResults(); // Update results when note is saved
    }

    function recordDate(type) {
        const dateInputId = type === 'Start' ? 'datePicker1' : 'datePicker2';
        const date = document.getElementById(dateInputId).value;
        alert(`Recorded ${type} Date: ${date}`);
        updateResults(); // Update results when note is saved
    }

    function saveSymptom(type) {
        const selectedSymptom = document.getElementById('symptoms').value;
        alert(`Your symptom is: ${selectedSymptom}`);
        updateResults(); // Update results when note is saved
    }

    let recordedStartDate = '';
    let recordedEndDate = '';

    function recordDate(type) {
        const dateInputId = type === 'Start' ? 'datePicker1' : 'datePicker2';
        const date = document.getElementById(dateInputId).value;

        // Store the recorded dates
        if (type === 'Start') {
            recordedStartDate = date;
        } else {
            recordedEndDate = date;
        }

        alert(`Recorded ${type} Date: ${date}`);
        updateResults(); // Update results when a date is recorded
    }

    function updateResults() {
        // Check if results have already been sent
        if (resultSent) {
            alert('Results already sent!');
            return;
        }

        const startDate = document.querySelector('#periodStartDateTable .selected-date');
        const endDate = document.querySelector('#periodEndDateTable .selected-date');
        const selectedSymptom = document.getElementById('symptoms').value;
        const note = document.getElementById('note').value;

        const resultDateDisplay = document.getElementById('resultDateDisplay');
        const resultSymptomDisplay = document.getElementById('resultSymptomDisplay');
        const resultNoteDisplay = document.getElementById('resultNoteDisplay');

        // Display the recorded start and end dates
        resultDateDisplay.innerHTML = `<div class="circle-box"><span>Start Date:</span> ${recordedStartDate}</div>`;
        resultDateDisplay.innerHTML += `<div class="circle-box"><span>End Date:</span> ${recordedEndDate}</div>`;

        resultSymptomDisplay.innerHTML += `<div class="circle-box"><span>Symptom:</span> ${selectedSymptom}</div>`;
        resultNoteDisplay.innerHTML += note ? `<div class="circle-box"><span>Note:</span> ${note}</div>` : '';

        // Set the flag to true, indicating that results have been sent
        resultSent = true;
    }

    function clearResults() {
        recordedStartDate = '';
        recordedEndDate = '';

        document.getElementById('resultDateDisplay').innerHTML = '';
        document.getElementById('resultSymptomDisplay').innerHTML = '';
        document.getElementById('resultNoteDisplay').innerHTML = '';

        // Reset the flag when clearing results
        resultSent = false;
    }

    </script>
</body>
</html>
